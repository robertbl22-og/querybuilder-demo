(this.webpackJsonpquerybuilder=this.webpackJsonpquerybuilder||[]).push([[0],{162:function(e){e.exports=JSON.parse('{"type":"group","id":"9a99988a-0123-4456-b89a-b1607f326fd8","children1":{"8aa9888b-cdef-4012-b456-7171377a45db":{"type":"rule_group","properties":{"conjunction":"AND","field":"Domains"},"children1":{"9898a898-89ab-4cde-b012-3171377a513f":{"type":"rule","properties":{"field":"Domains.Groups","operator":"multiselect_equals","value":[["Gmail","AOL"]],"valueSrc":["value"],"valueType":["multiselect"]}},"8ab8b99a-4567-489a-bcde-f171377a76e6":{"type":"rule","properties":{"field":"Domains.Names","operator":"multiselect_equals","value":[["gmail.com","aol.com"]],"valueSrc":["value"],"valueType":["multiselect"]}}}},"b99aa8bb-0123-4456-b89a-b1713b29914d":{"type":"rule","properties":{"field":"HealthcareSurvey","operator":"multiselect_equals","value":[["BCBS","UHC"]],"valueSrc":["value"],"valueType":["multiselect"]}},"a8b9a8a9-0123-4456-b89a-b171377a9b5f":{"type":"rule","properties":{"field":"Gender","operator":"select_equals","value":["Female"],"valueSrc":["value"],"valueType":["select"]}},"999ababb-4567-489a-bcde-f1713af79a29":{"type":"rule_group","properties":{"conjunction":"AND","field":"Signal"},"children1":{"a8babb8b-0123-4456-b89a-b1713af7b6af":{"type":"rule","properties":{"field":"Signal.Attributors","operator":"multiselect_equals","value":[["XVerify"]],"valueSrc":["value"],"valueType":["multiselect"]}},"8a899bbb-cdef-4012-b456-71713af7d51d":{"type":"rule","properties":{"field":"Signal.RecordTypes","operator":"multiselect_equals","value":[["Verified"]],"valueSrc":["value"],"valueType":["multiselect"]}},"b9aba999-cdef-4012-b456-71713b26edab":{"type":"rule","properties":{"field":"Signal.Seen.Days","operator":"greater","value":[5],"valueSrc":["value"],"valueType":["number"]}},"988a889b-89ab-4cde-b012-31713b272983":{"type":"rule","properties":{"field":"Signal.Seen.Days","operator":"less_or_equal","value":[30],"valueSrc":["value"],"valueType":["number"]}}}},"b98b8998-cdef-4012-b456-71713b3bef53":{"type":"group","properties":{"conjunction":"AND","not":true},"children1":{"889bb9bb-89ab-4cde-b012-31713b3bef54":{"type":"rule","properties":{"field":"SignalGroup","operator":"select_equals","value":["Tier1 Suppression"],"valueSrc":["value"],"valueType":["select"]}}}}},"properties":{"conjunction":"AND","not":false}}')},219:function(e){e.exports=JSON.parse('[{"id":"da05c481-306c-4657-a0d0-f7a9cedc4bd3","Domains":{"Groups":["Gmail"],"Names":["gmail.com"]},"DateOfBirth":"2000-01-01T05:00:00.000Z","HealthcareSurvey":["UHC"],"Gender":"Female","Signal":{"Attributors":["XVerify"],"RecordTypes":["Verified"],"Seen":{"Days":3}},"SignalGroup":null},{"id":"919f93e5-5aa8-4dcb-a752-448cfda717bd","Domains":{"Groups":["Gmail"],"Names":["gmail.com"]},"DateOfBirth":"2000-01-01T05:00:00.000Z","HealthcareSurvey":["UHC"],"Gender":"Female","Signal":{"Attributors":["XVerify"],"RecordTypes":["Verified"],"Seen":{"Days":10}},"SignalGroup":null},{"id":"66615655-07ce-47af-915a-d80f771f97e0","Domains":{"Groups":["Gmail"],"Names":["gmail.com"]},"DateOfBirth":"1970-01-01T05:00:00.000Z","HealthcareSurvey":["UHC"],"Gender":"Female","Signal":{"Attributors":["XVerify"],"RecordTypes":["Verified"],"Seen":{"Days":20}},"SignalGroup":null},{"id":"96606ad4-25c8-4a2d-a3d0-6ca3c1cacf3a","Domains":{"Groups":["Gmail"],"Names":["gmail.com"]},"DateOfBirth":"1980-01-01T05:00:00.000Z","HealthcareSurvey":["UHC"],"Gender":"Male","Signal":{"Attributors":["XVerify"],"RecordTypes":["Verified"],"Seen":{"Days":20}},"SignalGroup":null},{"id":"96606ad4-25c8-4a2d-a3d0-6ca3c1cacf4a","Domains":{"Groups":["Gmail"],"Names":["gmail.com"]},"DateOfBirth":"1980-01-01T05:00:00.000Z","HealthcareSurvey":["UHC"],"Gender":"Male","Signal":{"Attributors":["Onpoint"],"RecordTypes":["Verified"],"Seen":{"Days":31}},"SignalGroup":null},{"id":"96606ad4-25c8-4a2d-a3d0-6ca3c1cacf4a","Domains":{"Groups":["Yahoo"],"Names":["yahoo.com"]},"DateOfBirth":"1980-01-01T05:00:00.000Z","HealthcareSurvey":["UHC"],"Gender":"Male","Signal":{"Attributors":["Onpoint"],"RecordTypes":["Verified"],"Seen":{"Days":17}},"SignalGroup":null}]')},346:function(e,t,a){e.exports=a(696)},351:function(e,t,a){},696:function(e,t,a){"use strict";a.r(t);var r=a(1),l=a.n(r),o=a(8),n=a.n(o),i=(a(351),a(320)),s=a(321),u=a(339),c=a(343),d=a(13),p=a(718),m=a(719),g=a(163),f=a(716),b=a(334),y=a.n(b),v={Domains:{label:"Domains",type:"!group",subfields:{Names:{label:"Names",type:"multiselect",operators:["multiselect_equals"],listValues:[{value:"yahoo.com",title:"yahoo.com"},{value:"gmail.com",title:"gmail.com"},{value:"aol.com",title:"aol.com"},{value:"hotmail.com",title:"hotmail.com"},{value:"outlook.com",title:"outlook.com"}]},Groups:{label:"Groups",type:"multiselect",operators:["multiselect_equals"],listValues:[{value:"Yahoo",title:"Yahoo"},{value:"Gmail",title:"Gmail"},{value:"AOL",title:"AOL"},{value:"Hotmail",title:"Hotmail"},{value:"Outlook",title:"Outlook"}]}}},DateOfBirth:{label:"Date of Birth",type:"date",valueSources:["value"]},Gender:{label:"Gender",type:"select",operators:["select_equals"],listValues:["Male","Female"]},HealthcareSurvey:{label:"Healthcare Survey",tooltip:"Healthcare provider indicated in a survey",type:"multiselect",operators:["multiselect_equals"],listValues:[{value:"NoInsurance",title:"No insurance"},{value:"BCBS",title:"Blue Cross Blue Shield"},{value:"UHC",title:"United Healthcare"},{value:"Aetna",title:"Aetna"},{value:"Other",title:"Other"}]},Signal:{label:"Signal",tooltip:"Indicators of user engagement",type:"!group",subfields:{Attributors:{label:"Attributors",tooltip:"The source of the signal",type:"multiselect",operators:["multiselect_equals"],listValues:["Onpoint","XVerify","EmailOversight"]},RecordTypes:{label:"Record Types",tooltip:"The type of signal",type:"multiselect",operators:["multiselect_equals"],listValues:["Lead","Verified"]},Seen:{label:"Seen",type:"!struct",subfields:{Days:{label:"Days",type:"number",preferWidgets:["number"],fieldSettings:{min:0}}}}}},SignalGroup:{label:"Signal Group",type:"select",operators:["select_equals"],listValues:["Tier1 Suppression","Tier2 Suppression"]},SignalCustom:{label:"Signal (Custom)",type:"signal",listValues:["Tier1 Suppression","Tier2 Suppression"]}},h=a(25),S=d.Widgets.SelectWidget,E=function(e){var t=function(e){console.log(e)};return l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Attributors:"),l.a.createElement("td",null,l.a.createElement(S,Object.assign({},e,e.customProps,{listValues:e.customProps.attributors,onChange:t})))),l.a.createElement("tr",null,l.a.createElement("td",null,"Record Types:"),l.a.createElement("td",null,l.a.createElement(S,Object.assign({},e,e.customProps,{listValues:e.customProps.recordTypes,onChange:t}))))))},C=Object(h.a)({},d.BasicConfig.widgets,{text:Object(h.a)({},d.BasicConfig.widgets.text,{validateValue:function(e,t){return e.length<10}}),slider:Object(h.a)({},d.BasicConfig.widgets.slider,{customProps:{width:"300px"}}),rangeslider:Object(h.a)({},d.BasicConfig.widgets.rangeslider,{customProps:{width:"300px"}}),date:Object(h.a)({},d.BasicConfig.widgets.date,{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:Object(h.a)({},d.BasicConfig.widgets.time,{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:Object(h.a)({},d.BasicConfig.widgets.datetime,{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:Object(h.a)({},d.BasicConfig.widgets.func,{customProps:{showSearch:!0}}),treeselect:Object(h.a)({},d.BasicConfig.widgets.treeselect,{customProps:{showSearch:!0}}),signal:Object(h.a)({},d.BasicConfig.widgets.text,{factory:function(e){return l.a.createElement(E,e)},customProps:{attributors:["Onpoint","XVerify","EmailOversight"],recordTypes:["Lead","Verified"]}})}),O=a(144),T=a.n(O),D=Object(h.a)({},d.BasicConfig.types,{boolean:T()(d.BasicConfig.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"},opProps:{equal:{label:"is"},not_equal:{label:"is not"}}}}}),signal:{valueSources:["value","field"],defaultOperator:"equal",widgets:{signal:{operators:["equal"]}}}}),w={LOWER:{label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",jsonLogicIsMethod:!0,returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field"]}}},LINEAR_REGRESSION:{label:"Linear regression",returnType:"number",formatFunc:function(e,t){var a=e.coef,r=e.bias,l=e.val;return"(".concat(a," * ").concat(l," + ").concat(r,")")},sqlFormatFunc:function(e){var t=e.coef,a=e.bias,r=e.val;return"(".concat(t," * ").concat(r," + ").concat(a,")")},mongoFormatFunc:function(e){var t=e.coef,a=e.bias;return{$sum:[{$multiply:[t,e.val]},a]}},jsonLogic:function(e){var t=e.coef,a=e.bias;return{"+":[{"*":[t,e.val]},a]}},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}}},G=a(211),k=a.n(G),B=d.Widgets.FieldSelect,L=d.Widgets.FieldDropdown,R=(d.Widgets.FieldCascader,d.Widgets.FieldTreeSelect,d.Widgets.VanillaFieldSelect,{locale:{short:"en",full:"en-US",antd:k.a},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",deleteLabel:void 0,addGroupLabel:"Add group",addRuleLabel:"Add rule",delGroupLabel:void 0,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),V=Object(h.a)({},d.BasicConfig.settings,{},R,{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},maxNesting:3,canLeaveEmptyGroup:!0,renderOperator:function(e){return l.a.createElement(L,e)},renderFunc:function(e){return l.a.createElement(B,e)}}),j=Object(h.a)({},d.BasicConfig.operators.proximity,{valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],options:Object(h.a)({},d.BasicConfig.operators.proximity.options,{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2},customProps:{}})}),x=Object(h.a)({},d.BasicConfig.operators,{between:Object(h.a)({},d.BasicConfig.operators.between,{valueLabels:["Value from","Value to"],textSeparators:["from","to"]}),proximity:j}),F={conjunctions:Object(h.a)({},d.BasicConfig.conjunctions),operators:x,widgets:C,types:D,settings:V,fields:v,funcs:w},A=a(162),N={and:[{"==":[{var:"user.login"},{method:[{var:"user.firstName"},"toLowerCase"]}]},{"==":[{var:"stock"},!1]},{"==":[{var:"slider"},35]}]},H=(a(677),a(678),a(679),a(117)),q=a(335),_=a.n(q),P=a(219),U=a(31);function Y(e,t){return{Expression:function e(t,a){if(!t)return{};var r=t.get("type"),l=(t.get("properties")||new U.Map,t.get("children1"));if(("group"===r||"rule_group"===r)&&l&&l.size){return l.map((function(t){return e(t,a,{})})).filter((function(e){return"undefined"!==typeof e}))}return{}}(e,t)}}var M,I=JSON.stringify,W=d.Utils.queryBuilderFormat,J=d.Utils.jsonLogicFormat,X=d.Utils.queryString,Z=d.Utils.mongodbFormat,Q=d.Utils.sqlFormat,$=d.Utils.getTree,K=d.Utils.checkTree,z=d.Utils.loadTree,ee=d.Utils.uuid,te=(d.Utils.loadFromJsonLogic,{backgroundColor:"#E0E0E0",margin:"10px",padding:"10px",borderRadius:5,overflow:"scroll"}),ae={backgroundColor:"lightpink",margin:"10px",padding:"10px",borderRadius:5},re=p.a.TabPane,le={id:ee(),type:"group"},oe=A&&Object.keys(A).length>0?A:le;N&&Object.keys(N).length;M=K(z(oe),F);var ne=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).immutableTree=void 0,r.config=void 0,r.onConfigChanged=function(e){var t=e.detail,a=t.config,l=t._initTree,o=t._initValue;r.setState({config:a}),M=l,oe=o},r.handleGenerateList=function(){var e=r.state,t=e.tree,a=e.config,l=(e.matchResults,J(t,a)),o=l.logic,n=(l.data,l.errors,P.filter((function(e){var t=_.a.apply(o,e);return console.log(t,o,P),t})));n.length>0?m.a.success("Results found"):m.a.warn("No results found"),r.setState({matchResults:n}),console.log(n)},r.resetValue=function(){r.setState({tree:M,matchResults:[]})},r.clearValue=function(){r.setState({tree:z(le),matchResults:[]})},r.onChange=function(e,t){r.immutableTree=e,r.config=t,r.updateResult();$(e)},r.updateResult=y()((function(){r.setState({tree:r.immutableTree,config:r.config})}),100),r.render=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{defaultActiveKey:"0",type:"card"},l.a.createElement(re,{tab:"QueryBuilder",key:"0"},l.a.createElement(d.Query,Object.assign({},r.state.config,{value:r.state.tree,onChange:r.onChange,renderBuilder:function(e){return l.a.createElement("div",{className:"query-builder qb-lite"},l.a.createElement(d.Builder,e),l.a.createElement("div",{style:{textAlign:"right",marginRight:5,marginTop:10}},l.a.createElement(g.a,{type:"ghost",onClick:r.resetValue,style:{marginRight:10}},"Reset"),l.a.createElement(g.a,{type:"ghost",onClick:r.clearValue,style:{marginRight:10}},"Clear"),l.a.createElement(g.a,{type:"primary",onClick:r.handleGenerateList,style:{marginRight:5}},"Generate List")))}}))),function(e){var t=e.tree,a=e.config,r=J(t,a),o=r.logic,n=r.data,i=r.errors;return[l.a.createElement(re,{tab:"jsonLogic",key:"1"},l.a.createElement(H.CopyToClipboard,{text:I(o,void 0,2),style:{color:"#1890ff",cursor:"pointer"}},l.a.createElement("span",null,"Copy Rule")),l.a.createElement("span",{style:{marginLeft:20,marginRight:20,color:"#E0E0E0"}},"|"),l.a.createElement(H.CopyToClipboard,{text:I(n,void 0,2),style:{color:"#1890ff",cursor:"pointer"}},l.a.createElement("span",null,"Copy Data")),l.a.createElement("span",{style:{marginLeft:20,marginRight:20,color:"#E0E0E0"}},"|"),l.a.createElement("a",{href:"http://jsonlogic.com",target:"_blank",rel:"noopener noreferrer"},"About jsonLogicFormat"),l.a.createElement("span",{style:{marginLeft:20,marginRight:20,color:"#E0E0E0"}},"|"),l.a.createElement("a",{href:"https://www.nuget.org/packages/JsonLogic.Net/",target:"_blank",rel:"noopener noreferrer"},"JsonLogic.Net"),i.length>0&&l.a.createElement("pre",{style:ae},I(i,void 0,2)),!!o&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{style:{marginTop:20}},"Rule"),l.a.createElement("pre",{style:te},I(o,void 0,2)),l.a.createElement("h2",null,"Data"),l.a.createElement("pre",{style:te},I(n,void 0,2)))),l.a.createElement(re,{tab:"JSON (QB)",key:"7"},l.a.createElement(H.CopyToClipboard,{text:I(W(t,a),void 0,2),style:{color:"#1890ff",cursor:"pointer"}},l.a.createElement("span",null,"Copy to clipboard")),l.a.createElement("pre",{style:te},I(W(t,a),void 0,2))),l.a.createElement(re,{tab:"Suppression",key:"8"},l.a.createElement("pre",{style:te},I(Y(t,a),void 0,2))),l.a.createElement(re,{tab:"SQL",key:"4"},l.a.createElement("pre",{style:te},I(Q(t,a),void 0,2))),l.a.createElement(re,{tab:"MongoDB",key:"5"},l.a.createElement("pre",{style:te},I(Z(t,a),void 0,2))),l.a.createElement(re,{tab:"Tree",key:"6"},l.a.createElement(H.CopyToClipboard,{text:I($(t),void 0,2),style:{color:"#1890ff",cursor:"pointer"}},l.a.createElement("span",null,"Copy to clipboard")),l.a.createElement("pre",{style:te},I($(t),void 0,2))),l.a.createElement(re,{tab:"JS String",key:"2"},l.a.createElement("pre",{style:te},I(X(t,a),void 0,2))),l.a.createElement(re,{tab:"Human Readable(ish)",key:"3"},l.a.createElement("pre",{style:te},X(t,a,!0)))]}(r.state)),l.a.createElement(f.a,{dataSource:r.state.matchResults,rowKey:"id",columns:[{title:"ID",dataIndex:"id",key:"id"},{title:"Domains",dataIndex:"Domains",key:"Domains",render:function(e){return"".concat(e.Names.toString(),", ").concat(e.Groups.toString())}},{title:"Date of Birth",dataIndex:"DateOfBirth",key:"DateOfBirth",render:function(e){return new Date(e).toLocaleDateString()}},{title:"Gender",dataIndex:"Gender",key:"Gender",render:function(e){return"Male"===e?"M":"F"}},{title:"Attributors",dataIndex:"Signal.Attributors",key:"Attributors"},{title:"Record Types",dataIndex:"Signal.RecordTypes",key:"RecordTypes"},{title:"Seen",dataIndex:"Signal.Seen.Days",key:"Days"}]}))},r.state={tree:M,config:F,matchResults:[]},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("update",this.onConfigChanged)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("update",this.onConfigChanged)}}]),a}(r.Component);var ie=a(713);var se=function(){return l.a.createElement(ie.a,null,l.a.createElement(ie.a.Content,{style:{backgroundColor:"white",padding:20}},l.a.createElement(ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(717),ce=a(715),de=a(337),pe=a.n(de),me=a(338),ge=Object(me.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:pe.a.A400},background:{default:"#fff"}}});n.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(ce.a,{theme:ge},l.a.createElement(ue.a,null),l.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[346,1,2]]]);
//# sourceMappingURL=main.fc9a9e90.chunk.js.map